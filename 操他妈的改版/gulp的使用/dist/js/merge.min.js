function Dialog(){this.createDialog(),this.bindEvent()}Dialog.prototype={defaultOpts:{title:"",message:"",isShowCloseBtn:!0,isShowConfirmBtn:!1,onClose:function(){},onConfirm:function(){}},open:function(o){this.setOpts(o),console.log(this.opts),this.setDialog(),this.showDialog()},close:function(){this.hideDialog()},setOpts:function(o){"string"==typeof o?this.opts=$.extend({},this.defaultOpts,{message:o}):"object"==typeof o&&(this.opts=$.extend({},this.defaultOpts,o))},bindEvent:function(){var o=this;o.$dialog.find(".btn-close").on("click",function(i){i.preventDefault(),o.opts.onClose(),o.hideDialog()}),o.$dialog.find(".btn-confirm").on("click",function(i){i.preventDefault(),o.opts.onConfirm(),o.hideDialog()}),o.$dialog.on("mousedown",function(o){var i=$(this),t=o.pageX-i.offset().left,n=o.pageY-i.offset().top;i.addClass("draggable").data("evtPos",{x:t,y:n}),console.log(i.data("evtPos"))}).on("mouseup",function(){$(this).removeClass("draggable").removeData("pos")}),$("body").on("mousemove",function(o){$(".draggable").length&&$(".draggable").offset({top:o.pageY-$(".draggable").data("evtPos").y,left:o.pageX-$(".draggable").data("evtPos").x})})},createDialog:function(){var o='<div class="dialog" style="display:none"><div class="dialog-box"><div class="dialog-header"><h3></h3><span class="btn-close">x</span></div><div class="dialog-content"></div><div class="dialog-footer">  <a href="#" class="btn btn-close">取消</a>  <a href="#" class="btn btn-confirm">确定</a></div></div></div>';this.$dialog=$(o),$("body").append(this.$dialog)},setDialog:function(){var o=this.$dialog;this.opts.title?o.find(".dialog-header").show():o.find(".dialog-header").hide(),this.opts.isShowCloseBtn?o.find(".dialog-footer .btn-close").show():o.find(".dialog-footer .btn-close").hide(),this.opts.isShowConfirmBtn?o.find(".btn-confirm").show():o.find(".btn-confirm").hide(),o.find(".dialog-header h3").text(this.opts.title),o.find(".dialog-content").html(this.opts.message)},showDialog:function(){this.$dialog.show()},hideDialog:function(){this.$dialog.hide()},distoryDialog:function(){this.$dialog.remove()}},$("#open1").on("click",function(){var o=new Dialog;o.open("hello, 这里是饥人谷")}),$("#open2").on("click",function(){var o=new Dialog;o.open('<a href="http://jirengu.com">饥人谷</a>')}),$("#open3").on("click",function(){var o=new Dialog;o.open({title:"欢迎来到饥人谷",message:"hello",isShowCloseBtn:!0,isShowConfirmBtn:!0,onClose:function(){alert("close")},onConfirm:function(){alert("确定")}})});var tpl="<ul><li>列表1</li><li>列表2</li><li>列表1</li><li>列表1</li></ul>";$("#open4").on("click",function(){var o=new Dialog;o.open({title:"欢迎来到饥人谷",message:tpl,isShowCloseBtn:!0,isShowConfirmBtn:!0,onClose:function(){alert("close")},onConfirm:function(){alert("确定")}})}),$("#open5").on("click",function(){var o=new Dialog;o.open({title:"欢迎来到饥人谷",message:"hello",isShowCloseBtn:!1,isShowConfirmBtn:!1})});