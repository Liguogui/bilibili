function Carousel(t){this.ct=t.find(".ct"),this.$children=this.ct.children("li"),this.prev=this.ct.siblings(".prev"),this.next=this.ct.siblings(".next"),this.bullet=this.ct.siblings(".bullet"),this.length=this.$children.size(),this.imgWidth=this.ct.children("li").width(),this.cur=0,this.isAnimate=!0,this.ct.append(this.$children.first().clone()),this.ct.prepend(this.$children.last().clone()),this.imgRealCount=this.ct.children().size(),this.ct.css({left:0-this.imgWidth,width:this.imgRealCount*this.imgWidth}),this.init()}function Gotop(t,i){this.distance=t||300,this.time=i||1e3,this.createNode(),this.bind()}Carousel.prototype={init:function(){var t=this;t.bind(),t.autoPlay()},bind:function(){var t=this;t.next.on("click",function(i){i.preventDefault(),t.stopAuto(),t.playNext(),t.autoPlay()}),t.prev.on("click",function(i){i.preventDefault(),t.stopAuto(),t.playPrev(),t.autoPlay()}),t.bullet.find("li").on("click",function(){var i=$(this).index();t.stopAuto(),i>t.cur?t.playNext(i-t.cur):i<t.cur&&t.playPrev(t.cur-i),t.autoPlay()})},playNext:function(t){var i=this,t=t||1;i.isAnimate&&(i.isAnimate=!1,i.ct.animate({left:"-="+i.imgWidth*t},function(){i.cur=(i.cur+t)%i.length,0===i.cur&&i.ct.css({left:0-i.imgWidth}),i.isAnimate=!0,i.setBullet()}))},playPrev:function(t){var i=this,t=t||1;i.isAnimate&&(i.isAnimate=!1,i.ct.animate({left:"+="+i.imgWidth*t},function(){i.cur=(i.length+i.cur-t)%i.length,i.cur===i.length-1&&i.ct.css({left:0-i.imgWidth*i.length}),i.isAnimate=!0,i.setBullet()}))},setBullet:function(){var t=this;t.bullet.children().removeClass("active").eq(t.cur).addClass("active")},autoPlay:function(){var t=this;t.start=setInterval(function(){t.playNext()},2500)},stopAuto:function(){var t=this;clearInterval(t.start)}},$(".carousel").each(function(){new Carousel($(this))}),Gotop.prototype={createNode:function(){var t=this;t.$node=$('<div id="go-top"><i class="fa fa-angle-up"></i></div>'),$("body").append(t.$node),t.$node.on("click",function(){$("html,body").animate({scrollTop:0},t.time)}),t.hide()},bind:function(){var t=this;$(window).on("scroll",function(){$(window).scrollTop()>=t.distance?t.show():t.hide()})},show:function(){var t=this;t.$node.show()},hide:function(){var t=this;t.$node.hide()}},new Gotop(300,500);